<!DOCTYPE html>
<html lang="ar" dir="rtl">
	<head>
		<meta charset="UTF-8" />
		<link rel="icon" href="../shared/favicon.ico" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
		<meta http-equiv="Pragma" content="no-cache" />
		<meta http-equiv="Expires" content="0" />
		<title>Ù…Ø°Ø§Ù‚ Ø§Ù„Ø£Ù†Ø¯Ù„Ø³ Ù„Ù„Ø­Ù„ÙˆÙŠØ§Øª</title>

		<!-- Local styles -->
		<link rel="stylesheet" />
		<link rel="stylesheet" href="../index.css" />
		<style>
			/* Base font */
			.sweets-restaurant {
				font-family: 'DG Kufi', 'Aref Ruqaa', serif;
			}

			/* Hero desktop */
			@media screen and (min-width: 769px) {
				.hero-section {
					position: relative;
					padding: 0;
					min-height: 60vh;
					display: block;
					background-color: #fcfcfc;
				}

				.food-slider {
					position: relative;
					width: 100%;
					height: 92vh;
					overflow: hidden;
				}

				.hero-video {
					width: 100%;
					height: 100%;
					object-fit: cover;
				}

				.hero-content {
					position: absolute;
					top: 50%;

					transform: translateY(-50%);
					z-index: 100;
					max-width: 600px;
					text-align: right;
				}

				.hero-title {
					color: #fff;
					text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.7);
					font-size: clamp(32px, 6vw, 96px);
					margin-bottom: 30px;
					line-height: 1.05;
				}
			}

			/* Hero tablet & mobile â€“ Ù†ÙØ³ food */
			@media screen and (max-width: 768px) {
				.hero-section {
					display: flex;
					flex-direction: column;
					text-align: center;
					align-items: center;

					min-height: auto;
					gap: 16px;
					background-color: #fcfcfc;
				}

				.hero-content {
					max-width: 100%;
					margin: 0;
					text-align: center;
					position: static;
					transform: none;
				}

				.hero-title {
					color: #ff6f00;
					text-shadow: none;
					font-size: clamp(22px, 6vw, 32px);
					line-height: 1.3;
				}

				.food-slider {
					width: 100%;
					max-width: 420px;
					height: 220px;
					position: relative;
					overflow: hidden;
				}

				.hero-video {
					width: 100%;
					height: 100%;
					object-fit: cover;
				}
			}

			@media screen and (max-width: 480px) {
				.hero-title {
					font-size: clamp(20px, 7vw, 28px);
				}

				.food-slider {
					height: 200px;
				}
			}

			/*************** Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø© ***************/
			.content {
				margin: 5vh 0 2rem 0;
				height: auto;
				align-items: center;
				text-align: center;
				padding-bottom: 2.5rem;
			}

			hr {
				border: none;
				height: 4px;
				background-color: #ff6f00;
				margin: 20px auto;
				width: 100%;
			}

			.caption-image {
				width: 25vw;
				max-width: 300px;
				height: auto;
				margin: 0;
				margin-top: 0px;
				margin-bottom: 0px;
				vertical-align: middle;
			}

			/*************** ÙƒØ±ÙˆØª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª â€“ Ù†ÙØ³ food ***************/
			.products-container {
				display: grid;
				grid-template-columns: repeat(6, 1fr);
				gap: 1.5rem;
				max-width: 1400px;
				margin: 0 auto;
				padding: 2rem;
				direction: rtl;
			}

			.product-card {
				position: relative;
				background-size: cover;
				background-position: center;
				border-radius: 15px;
				padding: 0;
				display: flex;
				flex-direction: column;
				align-items: flex-end;
				justify-content: flex-end;
				aspect-ratio: 3/4;
				min-height: 260px;
				box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
				overflow: hidden;
				transition: all 0.3s ease;
			}

			.product-card::before {
				content: '';
				position: absolute;
				inset: 0;
				border-radius: inherit;
				background: linear-gradient(
					180deg,
					rgba(0, 0, 0, 0.05) 0%,
					rgba(255, 111, 0, 0.45) 55%,
					rgba(148, 80, 2, 0.75) 100%
				);
				opacity: 1;
				pointer-events: none;
				z-index: 1;
				transition: opacity 0.3s ease;
			}

			.product-card:hover {
				transform: translateY(-10px);
				box-shadow: 0 12px 32px rgba(255, 111, 0, 0.3);
			}

			.product-card:hover::before {
				opacity: 0.9;
			}

			/* Ø®Ù„ÙÙŠØ§Øª Ù…Ø¹ÙŠÙ†Ø© Ø¥Ù† Ø­Ø¨ÙŠØªÙŠ */
			.product-card-1 {
				background-image: url('images/sweet2.png');
			}
			.product-card-2 {
				background-image: url('images/cake.jpg');
			}
			.product-card-3 {
				background-image: url('images/kaa7k.jpg');
			}
			.product-card-4 {
				background-image: url('images/konafa.jpg');
			}

			.product-card-content {
				position: relative;
				z-index: 2;
				width: 100%;
				display: flex;
				flex-direction: column;
				gap: 0.8rem;
				padding: 1rem;
			}

			.product-card-info {
				text-align: right;
				width: 100%;
			}

			.product-name {
				color: #fff;
				text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.95);
				font-size: 1.3em;
				font-weight: bold;
				margin: 0 0 0.4rem 0;
			}

			.product-price {
				color: #fff;
				text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.95);
				font-size: 1rem;
				font-weight: bold;
				margin: 0;
				background: rgba(255, 111, 0, 0.5);
				padding: 0.35rem 1rem;
				border-radius: 10px;
				display: inline-block;
				backdrop-filter: blur(4px);
			}

			.add-to-cart-btn {
				background: #fff;
				color: #ff6f00;
				border: none;
				padding: 0.7rem 1.6rem;
				border-radius: 10px;
				cursor: pointer;
				font-size: 1rem;
				font-weight: bold;
				box-shadow: 0 4px 16px rgba(0, 0, 0, 0.25);
				transition: all 0.3s ease;
				width: 100%;
			}

			.add-to-cart-btn:hover,
			.add-to-cart-btn:focus {
				background-color: #ff6f00;
				color: #fff;
				transform: translateY(-2px);
				box-shadow: 0 6px 20px rgba(255, 111, 0, 0.5);
			}

			/* Ø§Ù„ÙƒÙ…ÙŠØ© */
			.product-controls-container {
				width: 100%;
				display: flex;
				justify-content: center;
				align-items: center;
			}

			.product-quantity-controls {
				display: flex;
				align-items: center;
				gap: 0.5rem;
				background: #fff;
				padding: 0.5rem;
				border-radius: 12px;
				box-shadow: 0 4px 16px rgba(0, 0, 0, 0.25);
				width: 100%;
				justify-content: center;
			}

			.qty-decrease-btn,
			.qty-increase-btn {
				background: #ff6f00;
				color: #fff;
				border: none;
				width: 32px;
				height: 32px;
				border-radius: 8px;
				cursor: pointer;
				font-size: 1.1em;
				font-weight: bold;
				display: flex;
				align-items: center;
				justify-content: center;
				transition: all 0.3s ease;
			}

			.qty-decrease-btn:hover,
			.qty-increase-btn:hover {
				background: #ff8c42;
				transform: scale(1.1);
			}

			.qty-display {
				font-size: 1.1em;
				font-weight: bold;
				color: #5d4e37;
				min-width: 28px;
				text-align: center;
			}

			/*************** Grid responsive like food ***************/
			@media (max-width: 1200px) {
				.products-container {
					grid-template-columns: repeat(3, 1fr);
					gap: 1.3rem;
					padding: 1.5rem;
				}
			}

			@media (max-width: 768px) {
				.products-container {
					grid-template-columns: repeat(2, 1fr); /* 2 ÙƒØ±ÙˆØª ÙÙŠ Ø§Ù„ØµÙ */
					gap: 1rem;
					padding: 1rem;
				}

				.product-card {
					min-height: 210px;
				}

				.product-name {
					font-size: 1.1em;
				}

				.product-price {
					font-size: 0.9em;
				}

				.add-to-cart-btn {
					font-size: 0.95em;
				}

				.caption-image {
					width: 50vw;
					max-width: 220px;
				}
			}

			@media (max-width: 480px) {
				.products-container {
					grid-template-columns: repeat(2, 1fr); /* Ù†ØªØ±ÙƒÙ‡Ø§ 2 ÙÙŠ Ø§Ù„ØµÙ */
					gap: 0.8rem;
					padding: 0.8rem;
				}

				.product-card {
					min-height: 190px;
				}

				.caption-image {
					width: 55vw;
				}
			}

			/*************** Parts section Ù†ÙØ³ food ***************/
			.parts-section {
				height: auto;
				min-height: 60vh;
				margin: 0;
				padding: 0;
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				gap: 2.5rem;
			}

			.parts-container {
				display: grid;
				grid-template-columns: repeat(6, 1fr);
				gap: 2rem;
				max-width: 1400px;
				width: 100%;
				padding: 0 2rem;
				direction: rtl;
			}

			.parts-card {
				position: relative;
				background-size: cover;
				background-position: center;
				border-radius: 20px;
				display: flex;
				align-items: center;
				justify-content: flex-end;
				padding: 0;
				aspect-ratio: 3/4;
				max-height: 300px;
				box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
				overflow: hidden;
				transition: transform 0.3s ease, box-shadow 0.3s ease;
			}
			.parts-card::before {
				content: '';
				position: absolute;
				inset: 0;
				border-radius: inherit;
				background: linear-gradient(
					180deg,
					rgba(0, 0, 0, 0.05) 0%,
					rgba(255, 111, 0, 0.4) 55%,
					rgba(148, 80, 2, 0.7) 100%
				);
				opacity: 1;
				pointer-events: none;
				z-index: 1;
				transition: opacity 0.3s ease;
			}

			.parts-card:hover {
				transform: translateY(-8px);
				box-shadow: 0 12px 32px rgba(255, 111, 0, 0.25);
			}

			.parts-card:hover::before {
				opacity: 0.85;
			}

			.parts-card > button {
				position: relative;
				z-index: 2;
				background: #fff;
				color: #ff6f00;
				border: none;
				padding: 0.75rem 1.8rem;
				margin: 1.2rem;
				border-radius: 12px;
				cursor: pointer;
				font-size: 1.4em;
				font-weight: bold;
				box-shadow: 0 4px 16px rgba(0, 0, 0, 0.25);
				transition: all 0.3s ease;
				width: calc(100% - 2.4rem);
				text-align: center;
			}

			.parts-card > button:hover {
				background-color: #ff6f00;
				color: #fff;
				transform: translateY(-2px);
				box-shadow: 0 6px 20px rgba(255, 111, 0, 0.5);
			}

			/* parts responsive */
			@media (max-width: 1200px) {
				.parts-container {
					grid-template-columns: repeat(3, 1fr);
					gap: 1.3rem;
					padding: 0 1.5rem;
				}
			}

			@media (max-width: 768px) {
				.parts-container {
					grid-template-columns: repeat(2, 1fr);
					gap: 1rem;
					padding: 0 1rem;
				}

				.parts-card {
					min-height: 220px;
				}

				.parts-card > button {
					font-size: 1.2em;
				}
			}

			@media (max-width: 480px) {
				.parts-container {
					grid-template-columns: repeat(2, 1fr);
					gap: 0.8rem;
				}

				.parts-card {
					min-height: 200px;
				}
			}
		</style>
	</head>
	<body class="sweets-restaurant">
		<!-- Navbar -->
		<div id="navbar-container"></div>

		<!-- Hero -->
		<section class="hero-section">
			<div class="food-slider">
				<video
					class="hero-video"
					src="videos/sweets_slideshow.mp4"
					autoplay
					loop
					muted
					playsinline
				></video>
			</div>
			<div class="hero-content">
				<h1 class="hero-title">
					Ø­Ù„ÙˆÙŠØ§Øª Ø§Ù„Ø£Ù†Ø¯Ù„Ø³ .... <br />
					Ù„Ø­Ø¸Ø§Øª Ù…Ù† Ø§Ù„Ø­Ù„Ø§ ÙˆØ§Ù„Ø³Ø¹Ø§Ø¯Ø©
				</h1>
			</div>
		</section>

		<!-- Content -->
		<section class="content">
			<!-- Parts -->
			<section class="parts-section">
				<img src="images/banner4.png" alt="border" class="caption-image" />
				<div class="parts-container">
					<div class="parts-card parts-card-1" onclick="selectCategory('Ø¬Ù„Ø§Ø´')">
						<button>Ø¬Ù„Ø§Ø´</button>
					</div>
					<div class="parts-card parts-card-2" onclick="selectCategory('ÙƒÙŠÙƒ')">
						<button>ÙƒÙŠÙƒ</button>
					</div>
					<div class="parts-card parts-card-3" onclick="selectCategory('ÙƒØ­Ùƒ')">
						<button>ÙƒØ­Ùƒ</button>
					</div>
					<div class="parts-card parts-card-4" onclick="selectCategory('ÙƒÙ†Ø§ÙØ©')">
						<button>ÙƒÙ†Ø§ÙØ©</button>
					</div>
					<div class="parts-card parts-card-4" onclick="selectCategory('ÙƒÙ†Ø§ÙØ©')">
						<button>ÙƒÙ†Ø§ÙØ©</button>
					</div>
					<div class="parts-card parts-card-2" onclick="selectCategory('ÙƒÙŠÙƒ')">
						<button>ÙƒÙŠÙƒ</button>
					</div>
				</div>
			</section>

			<img src="images/banner5.png" class="caption-image" alt="" />

			<!-- Products -->
			<div class="products-container" id="products-section">
				<!-- ØªÙ…Ù„Ø£ Ù…Ù† sweets.js -->
			</div>
		</section>

		<!-- Footer -->
		<div id="footer-container"></div>

		<!-- Floating Cart Button -->
		<a href="../orders/orders.html" class="floating-cart-btn" id="floating-cart-btn">
			<img src="../shared/navbar/images/cart.png" alt="Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚" />
			<span class="floating-cart-badge" id="floating-cart-badge" style="display: none"
				>0</span
			>
		</a>

		<!-- Scripts -->
		<script src="../index.js"></script>
		<script>
			/* Sweets Restaurant JavaScript */

			// Products data
			const sweetsProducts = [
				{
					id: 1,
					name: ' ÙƒÙŠÙƒ',
					price: 45,
					category: 'ÙƒÙŠÙƒ',
					image: 'images/cake.jpg',
				},
				{
					id: 2,
					name: 'ÙƒØ­Ùƒ ',
					price: 55,
					category: 'ÙƒØ­Ùƒ',
					image: 'images/kaa7k.jpg',
				},
				{
					id: 3,
					name: ' ÙƒÙ†Ø§ÙØ©',
					price: 40,
					category: 'ÙƒÙ†Ø§ÙØ©',
					image: 'images/konafa.jpg',
				},
				{
					id: 4,
					name: ' ÙƒØ­Ùƒ',
					price: 60,
					category: 'ÙƒØ­Ùƒ',
					image: 'images/kaa7k.jpg',
				},
				{
					id: 5,
					name: ' ÙƒØ­Ùƒ',
					price: 38,
					category: 'ÙƒØ­Ùƒ',
					image: 'images/cake.jpg',
				},
				{
					id: 6,
					name: ' Ø¬Ù„Ø§Ø´',
					price: 70,
					category: 'Ø¬Ù„Ø§Ø´',
					image: 'images/sweet2.png',
				},
				{
					id: 7,
					name: ' ÙƒÙŠÙƒ',
					price: 35,
					category: 'ÙƒÙŠÙƒ',
					image: 'images/kaa7k.jpg',
				},
				{
					id: 8,
					name: ' ÙƒØ­Ùƒ',
					price: 65,
					category: 'ÙƒØ­Ùƒ',
					image: 'images/sweet2.png',
				},
			];

			let selectedCategory = null;

			// Get cart item quantity
			function getCartItemQty(productId) {
				const cart = JSON.parse(localStorage.getItem('cart')) || [];
				const item = cart.find((item) => item.id === productId);
				return item ? item.qty : 0;
			}

			// Render product card controls
			function renderProductControls(productId, container) {
				const qty = getCartItemQty(productId);
				const product = sweetsProducts.find((p) => p.id === productId);

				container.innerHTML = '';

				if (qty > 0) {
					// Show quantity controls
					const controlsDiv = document.createElement('div');
					controlsDiv.className = 'product-quantity-controls';

					const decreaseBtn = document.createElement('button');
					decreaseBtn.className = 'qty-decrease-btn';
					decreaseBtn.textContent = '-';
					if (qty <= 1) {
						decreaseBtn.disabled = true;
					}
					decreaseBtn.addEventListener('click', (e) => {
						e.preventDefault();
						e.stopPropagation();
						decreaseSweetsQty(productId);
					});

					const qtyDisplay = document.createElement('span');
					qtyDisplay.className = 'qty-display';
					qtyDisplay.textContent = qty;

					const increaseBtn = document.createElement('button');
					increaseBtn.className = 'qty-increase-btn';
					increaseBtn.textContent = '+';
					increaseBtn.addEventListener('click', (e) => {
						e.preventDefault();
						e.stopPropagation();
						increaseSweetsQty(productId);
					});

					const removeBtn = document.createElement('button');
					removeBtn.className = 'qty-remove-btn';
					removeBtn.title = 'Ø­Ø°Ù';
					removeBtn.innerHTML = 'ğŸ—‘ï¸';
					removeBtn.addEventListener('click', (e) => {
						e.preventDefault();
						e.stopPropagation();
						removeSweetsFromCart(productId);
					});

					controlsDiv.appendChild(decreaseBtn);
					controlsDiv.appendChild(qtyDisplay);
					controlsDiv.appendChild(increaseBtn);
					controlsDiv.appendChild(removeBtn);
					container.appendChild(controlsDiv);
				} else {
					// Show add to cart button
					const addBtn = document.createElement('button');
					addBtn.className = 'add-to-cart-btn';
					addBtn.textContent = 'Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©';
					addBtn.addEventListener('click', (e) => {
						e.preventDefault();
						e.stopPropagation();
						addSweetsToCart(productId);
					});
					container.appendChild(addBtn);
				}
			}

			// Render products
			function renderSweetsProducts(productsToRender = null) {
				const container = document.querySelector('.products-container');
				if (!container) return;

				const products = productsToRender || sweetsProducts;
				container.innerHTML = '';

				products.forEach((product) => {
					const card = document.createElement('div');
					const cardNumber = (product.id % 6) + 1;
					card.className = `product-card product-card-${cardNumber}`;
					card.style.backgroundImage = `url(${product.image})`;
					card.setAttribute('data-product-id', product.id);

					const controlsContainer = document.createElement('div');
					controlsContainer.className = 'product-controls-container';

					card.innerHTML = `
      <div class="product-card-content">
        <div class="product-card-info">
          <p class="product-name">${product.name}</p>
          <p class="product-price">${product.price} Ø±ÙŠØ§Ù„</p>
        </div>
        <div class="product-controls-container"></div>
      </div>
    `;

					const controlsDiv = card.querySelector('.product-controls-container');
					renderProductControls(product.id, controlsDiv);

					container.appendChild(card);
				});
			}

			// Update product card controls
			function updateProductCardControls(productId) {
				const card = document.querySelector(`[data-product-id="${productId}"]`);
				if (card) {
					const controlsContainer = card.querySelector('.product-controls-container');
					if (controlsContainer) {
						renderProductControls(productId, controlsContainer);
					}
				}
			}

			// Add product to cart
			function addSweetsToCart(productId) {
				const product = sweetsProducts.find((p) => p.id === productId);
				if (product) {
					addToCart(product);
					updateProductCardControls(productId);
				}
			}

			// Increase product quantity
			function increaseSweetsQty(productId) {
				increaseQty(productId);
				updateProductCardControls(productId);
			}

			// Decrease product quantity
			function decreaseSweetsQty(productId) {
				decreaseQty(productId);
				updateProductCardControls(productId);
			}

			// Remove product from cart
			function removeSweetsFromCart(productId) {
				removeFromCart(productId);
				updateProductCardControls(productId);
			}

			// Select category
			function selectCategory(category) {
				selectedCategory = category;
				const filteredProducts = sweetsProducts.filter((p) => p.category === category);

				// Filter products in the same container
				const container = document.querySelector('.products-container');
				if (!container) return;

				renderSweetsProducts(filteredProducts);

				// Smooth scroll to products section
				setTimeout(() => {
					container.scrollIntoView({ behavior: 'smooth', block: 'start' });
				}, 100);
			}

			// Initialize on page load
			document.addEventListener('DOMContentLoaded', () => {
				renderSweetsProducts();

				// Listen for cart updates to refresh product controls
				window.addEventListener('cartUpdated', () => {
					sweetsProducts.forEach((product) => {
						updateProductCardControls(product.id);
					});
				});
			});
		</script>
	</body>
</html>
