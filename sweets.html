<!DOCTYPE html>
<html lang="ar" dir="rtl">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
		<meta http-equiv="Pragma" content="no-cache" />
		<meta http-equiv="Expires" content="0" />
		<title>Ù…Ø°Ø§Ù‚ Ø§Ù„Ø£Ù†Ø¯Ù„Ø³ Ù„Ù„Ø­Ù„ÙˆÙŠØ§Øª</title>
		<link rel="icon" href="assets/images/favicon.ico" />
		<link rel="stylesheet" href="css/index.css" />
		<style>
			/* Base font */
			.sweets-restaurant {
				font-family: 'DG Kufi', 'Aref Ruqaa', serif;
			}

			/* Hero desktop */
			@media screen and (min-width: 769px) {
				.hero-section {
					position: relative;
					padding: 0;
					width: 100%;
					display: block;
					background-color: #fcfcfc;
				}

				.food-slider {
					position: relative;
					width: 100%;
					height: 60vh;
					max-height: 600px;
					overflow: hidden;
					display: flex;
					justify-content: center;
					align-items: center;
					margin: 0;
					padding: 0;
				}

				.food-slider img {
					width: 100%;
					height: 100%;
					object-fit: contain;
					display: block;
					padding: 0 !important;
					margin: 0;
					box-sizing: border-box;
				}
			}

			/* Hero tablet & mobile */
			@media screen and (max-width: 768px) {
				.hero-section {
					position: relative;
					padding: 20px;
					width: 100%;
					display: block;
					background-color: #fcfcfc;
				}

				.food-slider {
					width: 90%;
					max-width: 90%;
					height: 40vh;
					position: relative;
					overflow: hidden;
					display: flex;
					justify-content: center;
					align-items: center;
					margin: 0 auto;
				}

				.food-slider img {
					width: 100%;
					height: 100%;
					object-fit: contain;
					display: block;
					padding: 0 !important;
					margin: 0;
					box-sizing: border-box;
				}
			}

			@media screen and (max-width: 480px) {
				.hero-title {
					font-size: clamp(20px, 7vw, 28px);
				}

				.food-slider {
					width: 85%;
					max-width: 85%;
					height: 35vh;
				}

				.food-slider img {
					padding: 0 !important;
					margin: 0;
					box-sizing: border-box;
				}
			}

			@media screen and (max-width: 360px) {
				.food-slider {
					width: 80%;
					max-width: 80%;
					height: 30vh;
				}

				.food-slider img {
					padding: 0 !important;
					margin: 0;
					box-sizing: border-box;
				}
			}

			/*************** Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø© ***************/
			.content {
				margin: 5vh 0 2rem 0;
				height: auto;
				align-items: center;
				text-align: center;
				padding-bottom: 2.5rem;
			}

			hr {
				border: none;
				height: 4px;
				background-color: #ff6f00;
				margin: 20px auto;
				width: 100%;
			}

			.caption-image {
				width: 25vw;
				max-width: 300px;
				height: auto;
				margin: 0;
				margin-top: 0px;
				margin-bottom: 0px;
				vertical-align: middle;
			}

			/* Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª */
			.products-container {
				display: grid;
				grid-template-columns: repeat(4, 1fr);
				gap: 1.2rem;
				max-width: 1400px;
				margin: 0 auto;
				padding: 1.5rem;
				direction: rtl;
			}

			.product-card {
				position: relative;
				background-size: cover;
				background-position: center;
				border-radius: 15px;
				padding: 0;
				display: flex;
				flex-direction: column;
				align-items: flex-end;
				justify-content: flex-end;
				aspect-ratio: 3/4;
				min-height: 220px;
				box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
				overflow: hidden;
				transition: all 0.3s ease;
			}

			.product-card:hover {
				transform: translateY(-10px);
				box-shadow: 0 12px 32px rgba(255, 111, 0, 0.3);
			}

			.product-card::before {
				content: '';
				position: absolute;
				inset: 0;
				border-radius: inherit;
				background: linear-gradient(
					180deg,
					rgba(0, 0, 0, 0.05) 0%,
					rgba(255, 111, 0, 0.45) 55%,
					rgba(148, 80, 2, 0.75) 100%
				);
				opacity: 1;
				pointer-events: none;
				z-index: 1;
				transition: opacity 0.3s ease;
			}

			.product-card:hover::before {
				opacity: 0.9;
			}

			.product-card-content {
				position: relative;
				z-index: 2;
				width: 100%;
				display: flex;
				flex-direction: column;
				gap: 0.8rem;
				padding: 0.8rem;
			}

			.product-card-info {
				text-align: right;
				width: 100%;
			}

			.product-name {
				color: white;
				text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.95);
				font-size: 1.1em;
				font-weight: bold;
				margin: 0 0 0.4rem 0;
				line-height: 1.3;
				letter-spacing: 0.5px;
			}

			.product-price {
				color: white;
				text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.95);
				font-size: 0.9em;
				font-weight: bold;
				margin: 0;
				background: rgba(255, 111, 0, 0.5);
				padding: 0.3rem 0.9rem;
				border-radius: 10px;
				display: inline-block;
				backdrop-filter: blur(4px);
			}

			.add-to-cart-btn {
				background: #ffffff;
				color: #ff6f00;
				border: none;
				padding: 10px 80px;
				border-radius: 8px;
				cursor: pointer;
				font-size: 12px;
				font-family: 'Aref Ruqaa';
				font-weight: bold;
				box-shadow: 0 4px 16px rgba(0, 0, 0, 0.25);
				transition: all 0.3s ease;
				width: 100%;
				text-align: center;
			}

			.add-to-cart-btn:hover,
			.add-to-cart-btn:focus {
				background-color: #ff6f00;
				color: #fff;
				transform: translateY(-2px);
				box-shadow: 0 6px 20px rgba(255, 111, 0, 0.5);
			}

			/* Product Quantity Controls */
			.product-controls-container {
				width: 100%;
				display: flex;
				justify-content: center;
				align-items: center;
			}

			.product-quantity-controls {
				display: flex;
				align-items: center;
				gap: 0.5rem;
				background: #ffffff;
				padding: 0.5rem;
				border-radius: 12px;
				box-shadow: 0 4px 16px rgba(0, 0, 0, 0.25);
				width: 100%;
				justify-content: center;
			}

			.qty-decrease-btn,
			.qty-increase-btn {
				background: #ff6f00;
				color: #fff;
				border: none;
				width: 32px;
				height: 32px;
				border-radius: 8px;
				cursor: pointer;
				font-size: 1.1em;
				font-weight: bold;
				display: flex;
				align-items: center;
				justify-content: center;
				transition: all 0.3s ease;
			}

			.qty-decrease-btn:hover,
			.qty-increase-btn:hover {
				background: #ff8c42;
				transform: scale(1.1);
			}

			.qty-decrease-btn:disabled {
				background: #ccc;
				cursor: not-allowed;
				opacity: 0.6;
			}

			.qty-decrease-btn:disabled:hover {
				transform: none;
			}

			.qty-display {
				font-size: 1.1em;
				font-weight: bold;
				color: #5d4e37;
				min-width: 28px;
				text-align: center;
			}

			.qty-remove-btn {
				background: #dc3545;
				color: #fff;
				border: none;
				width: 32px;
				height: 32px;
				border-radius: 8px;
				cursor: pointer;
				display: flex;
				align-items: center;
				justify-content: center;
				transition: all 0.3s ease;
				margin-right: 0.4rem;
			}

			.qty-remove-btn:hover {
				background: #c82333;
				transform: scale(1.1);
			}

			/* Responsive Product Cards */
			@media (max-width: 1200px) {
				.products-container {
					grid-template-columns: repeat(3, 1fr);
					gap: 1.2rem;
					padding: 1.2rem;
				}

				.product-card {
					min-height: 210px;
				}

				.product-name {
					font-size: 1em;
				}

				.product-price {
					font-size: 0.9em;
				}

				.caption-image {
					width: 35vw;
				}
			}

			/* Ù…ÙˆØ¨Ø§ÙŠÙ„: ÙƒØ±ØªÙŠÙ† ÙÙŠ Ø§Ù„ØµÙ (2 ÙƒÙˆÙ„Ù…Ù†)ØŒ Ø§Ù„ÙƒØ±Øª Ø£ØµØºØ± Ù„Ø¹Ø±Ø¶ 4 ÙÙŠ Ø§Ù„Ø´Ø§Ø´Ø© ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹ */
			@media (max-width: 768px) {
				.products-container {
					grid-template-columns: repeat(2, 1fr);
					gap: 0.9rem;
					padding: 0.8rem;
				}

				.product-card {
					min-height: 190px;
				}

				.product-card-content {
					padding: 0.7rem;
					gap: 0.6rem;
				}

				.product-name {
					font-size: 0.95em;
				}

				.product-price {
					font-size: 0.85em;
					padding: 0.25rem 0.7rem;
				}

				.add-to-cart-btn {
					font-size: 0.9em;
					padding: 0.55rem 1rem;
				}

				.caption-image {
					width: 50vw;
					max-width: 220px;
				}
			}

			@media (max-width: 480px) {
				.products-container {
					grid-template-columns: repeat(2, 1fr); /* Ù†ØªØ±ÙƒÙ‡Ø§ Ø¨Ø±Ø¶Ùˆ ÙƒØ±ØªÙŠÙ† ÙÙŠ Ø§Ù„ØµÙ */
					gap: 0.7rem;
					padding: 0.7rem;
				}

				.product-card {
					min-height: 170px;
				}

				.product-card-content {
					padding: 0.6rem;
					gap: 0.5rem;
				}

				.product-name {
					font-size: 0.9em;
				}

				.product-price {
					font-size: 0.8em;
				}

				.add-to-cart-btn {
					font-size: 0.85em;
					padding: 0.5rem 0.8rem;
				}

				.caption-image {
					width: 55vw;
				}
			}

			/**********************************parts-section******************************** */
			.parts-section {
				height: auto;
				min-height: 60vh;
				margin: 0;
				padding: 0;
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				gap: 2.5rem;
			}

			.parts-container {
				display: grid;
				grid-template-columns: repeat(6, 1fr);
				gap: 2rem;
				max-width: 1400px;
				width: 100%;
				padding: 0 2rem;
				direction: rtl;
			}

			.parts-card {
				position: relative;
				background-size: cover;
				background-position: center;
				border-radius: 20px;
				display: flex;
				align-items: center;
				justify-content: flex-end;
				padding: 0;
				aspect-ratio: 3/4;
				max-height: 300px;
				box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
				overflow: hidden;
				transition: transform 0.3s ease, box-shadow 0.3s ease;
				vertical-align: bottom;
			}

			.parts-card:hover {
				transform: translateY(-8px);
				box-shadow: 0 12px 32px rgba(255, 111, 0, 0.25);
			}

			.parts-card::before {
				content: '';
				position: absolute;
				inset: 0;
				border-radius: inherit;
				background: linear-gradient(
					180deg,
					rgba(0, 0, 0, 0.1) 0%,
					rgba(255, 111, 0, 0.4) 60%,
					rgba(148, 80, 2, 0.8) 100%
				);
				pointer-events: none;
				z-index: 1;
				transition: opacity 0.3s ease;
			}

			.parts-card:hover::before {
				opacity: 0.85;
			}

			.parts-card > button {
				position: relative;
				z-index: 2;
				background: #ffffff;
				color: #ff6f00;
				border: none;
				padding: 0.85rem 2rem;
				margin: 1.5rem;
				border-radius: 8px;
				cursor: pointer;
				font-size: 1.4em;
				font-weight: bold;
				box-shadow: 0 4px 16px rgba(0, 0, 0, 0.25);
				transition: all 0.3s ease;
				width: calc(100% - 3rem);
				text-align: center;
				display: grid;
				justify-content: center;
				align-items: center;
				font-family: 'Aref Ruqaa';
				opacity: 0.9;
				vertical-align: bottom;
			}

			.parts-card > button:hover {
				background-color: #ff6f00;
				color: #fff;
				transform: translateY(-2px);
				box-shadow: 0 6px 20px rgba(255, 111, 0, 0.5);
			}

			.parts-card-1 {
				background-image: url('assets/images/food1.png');
			}

			.parts-card-2 {
				background-image: url('assets/images/food3.png');
			}

			.parts-card-3 {
				background-image: url('assets/images/food2.jpg');
			}

			.parts-card-4 {
				background-image: url('assets/images/food3.png');
			}

			/* Responsive parts-section */
			@media (max-width: 1200px) {
				.parts-container {
					grid-template-columns: repeat(4, 1fr);
					gap: 1rem;
					padding: 0 1.5rem;
				}

				.parts-card {
					max-height: 220px;
				}

				.parts-card > button {
					font-size: 16px;
					padding: 0.75rem 1.8rem;
					margin: 1rem;
					width: calc(100% - 2.6rem);
				}
			}

			@media (max-width: 768px) {
				.parts-section {
					min-height: 40vh;
					margin: 0;
					padding: 0;
					gap: 2rem;
				}

				.parts-container {
					grid-template-columns: repeat(2, 1fr);
					gap: 1.2rem;
					padding: 0 1rem;
				}

				.parts-card {
					min-height: 220px;
					border-radius: 15px;
				}

				.parts-card > button {
					font-size: 1.2em;
					padding: 0.7rem 1.5rem;
					margin: 1.2rem;
					width: calc(100% - 2.4rem);
				}
			}

			@media (max-width: 480px) {
				.parts-container {
					grid-template-columns: repeat(2, 1fr); /* keep 2 in a row */
				}

				.parts-card {
					min-height: 240px;
					max-width: 400px;
					margin: 0 auto;
					width: 100%;
				}

				.parts-card > button {
					font-size: 1.3em;
					padding: 0.8rem 2rem;
					margin: 1.5rem;
					width: calc(100% - 3rem);
				}
			}

			/* Responsive Quantity Controls */
			@media (max-width: 768px) {
				.product-quantity-controls {
					padding: 0.4rem;
					gap: 0.3rem;
				}

				.qty-decrease-btn,
				.qty-increase-btn,
				.qty-remove-btn {
					width: 28px;
					height: 28px;
					font-size: 1em;
				}

				.qty-display {
					font-size: 1em;
					min-width: 24px;
				}
			}

			@media (max-width: 480px) {
				.product-quantity-controls {
					padding: 0.3rem;
					gap: 0.25rem;
				}

				.qty-decrease-btn,
				.qty-increase-btn,
				.qty-remove-btn {
					width: 26px;
					height: 26px;
					font-size: 0.95em;
				}

				.qty-display {
					font-size: 0.95em;
					min-width: 22px;
				}

				.qty-remove-btn {
					margin-right: 0.3rem;
				}
			}
		</style>
	</head>
	<body class="sweets-restaurant">
		<!-- Navbar -->
		<div id="navbar-container"></div>

		<section class="hero-section">
			<div class="food-slider">
				<img src="assets/images/mazaq_alandalus_logo.png" alt="Ø­Ù„ÙˆÙŠØ§Øª Ø§Ù„Ø£Ù†Ø¯Ù„Ø³" />
			</div>
		</section>

		<!-- Content -->
		<section class="content">
			<!-- Parts -->
			<section class="parts-section">
				<img src="assets/images/banner4.png" alt="border" class="caption-image" />
				<div class="parts-container">
					<div class="parts-card parts-card-1" onclick="selectCategory('Ø¬Ù„Ø§Ø´')">
						<button>Ø¬Ù„Ø§Ø´</button>
					</div>
					<div class="parts-card parts-card-2" onclick="selectCategory('ÙƒÙŠÙƒ')">
						<button>ÙƒÙŠÙƒ</button>
					</div>
					<div class="parts-card parts-card-3" onclick="selectCategory('ÙƒØ­Ùƒ')">
						<button>ÙƒØ­Ùƒ</button>
					</div>
					<div class="parts-card parts-card-4" onclick="selectCategory('ÙƒÙ†Ø§ÙØ©')">
						<button>ÙƒÙ†Ø§ÙØ©</button>
					</div>
					<div class="parts-card parts-card-4" onclick="selectCategory('ÙƒÙ†Ø§ÙØ©')">
						<button>ÙƒÙ†Ø§ÙØ©</button>
					</div>
					<div class="parts-card parts-card-2" onclick="selectCategory('ÙƒÙŠÙƒ')">
						<button>ÙƒÙŠÙƒ</button>
					</div>
				</div>
			</section>

			<img src="assets/images/banner5.png" class="caption-image" alt="" />

			<!-- Products -->
			<div class="products-container" id="products-section">
				<!-- ØªÙ…Ù„Ø£ Ù…Ù† sweets.js -->
			</div>
		</section>

		<!-- Footer -->
		<div id="footer-container"></div>

		<!-- Floating Cart Button -->
		<a href="orders.html" class="floating-cart-btn" id="floating-cart-btn">
			<img src="assets/images/cart.png" alt="Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚" />
			<span class="floating-cart-badge" id="floating-cart-badge" style="display: none"
				>0</span
			>
		</a>

		<!-- Scripts -->
		<script src="js/index.js"></script>
		<script>
			/* Sweets Restaurant JavaScript */

			// Products data
			const sweetsProducts = [
				{
					id: 1,
					name: ' ÙƒÙŠÙƒ',
					price: 45,
					category: 'ÙƒÙŠÙƒ',
					image: 'assets/images/cake.jpg',
				},
				{
					id: 2,
					name: 'ÙƒØ­Ùƒ ',
					price: 55,
					category: 'ÙƒØ­Ùƒ',
					image: 'assets/images/kaa7k.jpg',
				},
				{
					id: 3,
					name: ' ÙƒÙ†Ø§ÙØ©',
					price: 40,
					category: 'ÙƒÙ†Ø§ÙØ©',
					image: 'assets/images/konafa.jpg',
				},
				{
					id: 4,
					name: ' ÙƒØ­Ùƒ',
					price: 60,
					category: 'ÙƒØ­Ùƒ',
					image: 'assets/images/kaa7k.jpg',
				},
				{
					id: 5,
					name: ' ÙƒØ­Ùƒ',
					price: 38,
					category: 'ÙƒØ­Ùƒ',
					image: 'assets/images/cake.jpg',
				},
				{
					id: 6,
					name: ' Ø¬Ù„Ø§Ø´',
					price: 70,
					category: 'Ø¬Ù„Ø§Ø´',
					image: 'assets/images/sweet2.png',
				},
				{
					id: 7,
					name: ' ÙƒÙŠÙƒ',
					price: 35,
					category: 'ÙƒÙŠÙƒ',
					image: 'assets/images/kaa7k.jpg',
				},
				{
					id: 8,
					name: ' ÙƒØ­Ùƒ',
					price: 65,
					category: 'ÙƒØ­Ùƒ',
					image: 'assets/images/sweet2.png',
				},
			];

			let selectedCategory = null;

			// Get cart item quantity
			function getCartItemQty(productId) {
				const cart = JSON.parse(localStorage.getItem('cart')) || [];
				const item = cart.find((item) => item.id === productId);
				return item ? item.qty : 0;
			}

			// Render product card controls
			function renderProductControls(productId, container) {
				const qty = getCartItemQty(productId);
				const product = sweetsProducts.find((p) => p.id === productId);

				container.innerHTML = '';

				if (qty > 0) {
					// Show quantity controls
					const controlsDiv = document.createElement('div');
					controlsDiv.className = 'product-quantity-controls';

					const decreaseBtn = document.createElement('button');
					decreaseBtn.className = 'qty-decrease-btn';
					decreaseBtn.textContent = '-';
					if (qty <= 1) {
						decreaseBtn.disabled = true;
					}
					decreaseBtn.addEventListener('click', (e) => {
						e.preventDefault();
						e.stopPropagation();
						decreaseSweetsQty(productId);
					});

					const qtyDisplay = document.createElement('span');
					qtyDisplay.className = 'qty-display';
					qtyDisplay.textContent = qty;

					const increaseBtn = document.createElement('button');
					increaseBtn.className = 'qty-increase-btn';
					increaseBtn.textContent = '+';
					increaseBtn.addEventListener('click', (e) => {
						e.preventDefault();
						e.stopPropagation();
						increaseSweetsQty(productId);
					});

					const removeBtn = document.createElement('button');
					removeBtn.className = 'qty-remove-btn';
					removeBtn.title = 'Ø­Ø°Ù';
					removeBtn.innerHTML = 'ğŸ—‘ï¸';
					removeBtn.addEventListener('click', (e) => {
						e.preventDefault();
						e.stopPropagation();
						removeSweetsFromCart(productId);
					});

					controlsDiv.appendChild(decreaseBtn);
					controlsDiv.appendChild(qtyDisplay);
					controlsDiv.appendChild(increaseBtn);
					controlsDiv.appendChild(removeBtn);
					container.appendChild(controlsDiv);
				} else {
					// Show add to cart button
					const addBtn = document.createElement('button');
					addBtn.className = 'add-to-cart-btn';
					addBtn.textContent = 'Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©';
					addBtn.addEventListener('click', (e) => {
						e.preventDefault();
						e.stopPropagation();
						addSweetsToCart(productId);
					});
					container.appendChild(addBtn);
				}
			}

			// Render products
			function renderSweetsProducts(productsToRender = null) {
				const container = document.querySelector('.products-container');
				if (!container) return;

				const products = productsToRender || sweetsProducts;
				container.innerHTML = '';

				products.forEach((product) => {
					const card = document.createElement('div');
					const cardNumber = (product.id % 6) + 1;
					card.className = `product-card product-card-${cardNumber}`;
					card.style.backgroundImage = `url(${product.image})`;
					card.setAttribute('data-product-id', product.id);

					const controlsContainer = document.createElement('div');
					controlsContainer.className = 'product-controls-container';

					card.innerHTML = `
      <div class="product-card-content">
        <div class="product-card-info">
          <p class="product-name">${product.name}</p>
          <p class="product-price">${product.price} Ø±ÙŠØ§Ù„</p>
        </div>
        <div class="product-controls-container"></div>
      </div>
    `;

					const controlsDiv = card.querySelector('.product-controls-container');
					renderProductControls(product.id, controlsDiv);

					container.appendChild(card);
				});
			}

			// Update product card controls
			function updateProductCardControls(productId) {
				const card = document.querySelector(`[data-product-id="${productId}"]`);
				if (card) {
					const controlsContainer = card.querySelector('.product-controls-container');
					if (controlsContainer) {
						renderProductControls(productId, controlsContainer);
					}
				}
			}

			// Add product to cart
			function addSweetsToCart(productId) {
				const product = sweetsProducts.find((p) => p.id === productId);
				if (product) {
					addToCart(product);
					updateProductCardControls(productId);
				}
			}

			// Increase product quantity
			function increaseSweetsQty(productId) {
				increaseQty(productId);
				updateProductCardControls(productId);
			}

			// Decrease product quantity
			function decreaseSweetsQty(productId) {
				decreaseQty(productId);
				updateProductCardControls(productId);
			}

			// Remove product from cart
			function removeSweetsFromCart(productId) {
				removeFromCart(productId);
				updateProductCardControls(productId);
			}

			// Select category
			function selectCategory(category) {
				selectedCategory = category;
				const filteredProducts = sweetsProducts.filter((p) => p.category === category);

				// Filter products in the same container
				const container = document.querySelector('.products-container');
				if (!container) return;

				renderSweetsProducts(filteredProducts);

				// Smooth scroll to products section
				setTimeout(() => {
					container.scrollIntoView({ behavior: 'smooth', block: 'start' });
				}, 100);
			}

			// Initialize on page load
			document.addEventListener('DOMContentLoaded', () => {
				renderSweetsProducts();

				// Listen for cart updates to refresh product controls
				window.addEventListener('cartUpdated', () => {
					sweetsProducts.forEach((product) => {
						updateProductCardControls(product.id);
					});
				});
			});
		</script>
	</body>
</html>
